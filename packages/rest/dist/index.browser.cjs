"use strict";var R=Object.create;var l=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var v=(e,r)=>{for(var t in r)l(e,t,{get:r[t],enumerable:!0})},h=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of H(r))!O.call(e,o)&&o!==t&&l(e,o,{get:()=>r[o],enumerable:!(n=E(r,o))||n.enumerable});return e};var D=(e,r,t)=>(t=e!=null?R(j(e)):{},h(r||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),U=e=>h(l({},"__esModule",{value:!0}),e);var X={};v(X,{createClient:()=>k,iterator:()=>I});module.exports=U(X);var s={getRequestToken:()=>{throw new Error("not implemented")},getDefaultAuth:()=>{throw new Error("not implemented")},buildBaseUrl:()=>{throw new Error("not implemented")},getVersion:()=>{throw new Error("not implemented")},buildCertAuth:()=>{throw new Error("not implemented")},buildUserAgentHeader:()=>{throw new Error("not implemented")},buildTimeoutHeader:()=>{throw new Error("not implemented")},buildProxy:()=>{throw new Error("not implemented")}},m=e=>{e.getRequestToken&&(s.getRequestToken=e.getRequestToken),e.getDefaultAuth&&(s.getDefaultAuth=e.getDefaultAuth),e.buildCertAuth&&(s.buildCertAuth=e.buildCertAuth),e.buildUserAgentHeader&&(s.buildUserAgentHeader=e.buildUserAgentHeader),e.buildTimeoutHeader&&(s.buildTimeoutHeader=e.buildTimeoutHeader),e.buildBaseUrl&&(s.buildBaseUrl=e.buildBaseUrl),e.getVersion&&(s.getVersion=e.getVersion),e.buildProxy&&(s.buildProxy=e.buildProxy)};var u=class e extends Error{platform;constructor(r){let t=`This function is not supported in ${r} environment`;super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e),this.name="UnsupportedPlatformError",this.platform=r,Object.setPrototypeOf(this,e.prototype)}};var c={name:"@kintone/rest",version:"0.0.1",description:"kintone REST API Client for JavaScript",keywords:["kintone","rest","api-client"],homepage:"https://github.com/kintone/js-sdk/tree/main/packages/rest#readme",bugs:{url:"https://github.com/kintone/js-sdk/issues"},repository:{type:"git",url:"git+https://github.com/kintone/js-sdk.git",directory:"packages/rest"},license:"Apache-2.0",author:{name:"Cybozu, Inc.",url:"https://cybozu.co.jp"},type:"module",exports:{".":{node:{import:"./lib/index.js",require:"./lib/index.cjs",default:"./lib/index.js"},browser:"./lib/index.browser.js"},"./package.json":"./package.json"},main:"lib/index.cjs",module:"lib/index.js",types:"lib/index.d.ts",files:["CHANGELOG.md","esm","lib","!**/*.tsbuildinfo"],scripts:{prebuild:"pnpm clean",build:"tsc --build --force && pnpm postbuild","build:vite":"vite build","build:tsup":"tsup",postbuild:"node scripts/copy-schemas.js","build:rollup_umd_dev":"rollup -c --environment BUILD:development","build:rollup_umd_prod":"rollup -c --environment BUILD:production","build:vite_umd_dev":"BUILD=development vite build","build:vite_umd_prod":"BUILD=production vite build",clean:"rimraf lib esm umd",fix:"pnpm lint:eslint --fix",lint:"run-s lint:*","lint:eslint":"eslint . --max-warnings 0","lint:package":"publint --strict",start:"tsc --build --force --watch",test:"jest","test:ci":"jest --runInBand","test:e2e":"jest --config=jest.e2e.config.js"},dependencies:{"core-js":"^3.41.0",fs:"0.0.1-security","js-base64":"^3.7.7","openapi-fetch":"^0.13.5","openapi-typescript":"^7.6.1","openapi-typescript-helpers":"^0.0.15",undici:"^7.4.0"},devDependencies:{"@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.3","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.3.1","@rollup/plugin-terser":"^0.4.4","@types/rollup-plugin-node-builtins":"^2.1.5","@types/rollup-plugin-node-globals":"^1.4.5",rollup:"^4.38.0","rollup-plugin-ecma-version-validator":"^0.2.13","rollup-plugin-license":"^3.6.0","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-node-globals":"^1.4.0","rollup-plugin-polyfill-node":"^0.13.0",tsup:"^8.4.0",vite:"^5.4.15","vite-plugin-dts":"^4.5.3"},engines:{node:">=18"},publishConfig:{access:"public"}};var q=async()=>{if(typeof kintone=="object"&&kintone!==null&&typeof kintone.getRequestToken=="function")return kintone.getRequestToken();if(typeof garoon=="object"&&garoon!==null&&typeof garoon.connect?.kintone?.getRequestToken=="function")return garoon.connect.kintone.getRequestToken();throw new Error("session authentication must specify a request token")},B=()=>({type:"session"}),z=()=>{throw new u("Browser")},L=()=>({}),N=e=>e.userAgent!==void 0?{"User-Agent":e.userAgent}:{},_=e=>{if(e)return e;if(location===void 0)throw new Error("The baseUrl parameter is required for this environment");let{host:r,protocol:t}=location;return`${t}//${r}`},K=()=>c.version,G=e=>{throw new u("Browser")},y={getRequestToken:q,getDefaultAuth:B,buildCertAuth:z,buildUserAgentHeader:N,buildTimeoutHeader:L,buildBaseUrl:_,getVersion:K,buildProxy:G};var w=D(require("openapi-fetch"),1);var f=require("js-base64"),g=e=>{switch(e.type){case"password":return{"X-Cybozu-Authorization":f.Base64.encode(`${e.username}:${e.password}`)};case"apiToken":{let r=e.apiToken;return{"X-Cybozu-API-Token":Array.isArray(r)?r.join(","):r}}case"oauth":return{Authorization:`Bearer ${e.oAuthToken}`};case"session":default:return{"X-Requested-With":"XMLHttpRequest"}}},b=e=>e===void 0||Object.keys(e).length===0||e.type==="session";var A=e=>({dispatcher:e});var P=e=>{let r=s.buildBaseUrl(e.baseUrl).replace(/\/+$/,""),t=g(e.auth??s.getDefaultAuth()),n=s.buildUserAgentHeader({userAgent:e.userAgent}),o=e.socketTimeout!==void 0?s.buildTimeoutHeader({socketTimeout:e.socketTimeout}):{},i=e.proxy!==void 0?s.buildProxy(e.proxy):{},p=e.httpsAgent!==void 0?A(e.httpsAgent):{},a=e.certAuth!==void 0?s.buildCertAuth(e.certAuth):{};return{fetch:e.fetch,Request:e.Request,querySerializer:e.querySerializer,bodySerializer:e.bodySerializer,baseUrl:r,headers:{...e.headers,...t,...n},requestInitExt:{...e.requestInitExt,...i,...p,...a},...o}};var M=()=>({async onRequest({request:e}){if(e.method==="GET")return e;if(e.headers.get("content-type")?.includes("multipart/form-data")){let t=await e.formData();return t.has("__REQUEST_TOKEN__")||t.append("__REQUEST_TOKEN__",await s.getRequestToken()),new Request(e.url,{method:e.method,headers:e.headers,body:t})}let r=await e.json();return r.__REQUEST_TOKEN__=await s.getRequestToken(),new Request(e.url,{method:e.method,headers:e.headers,body:JSON.stringify(r)})}});var T=()=>({async onRequest({request:e,params:r}){if(e.method!=="GET"||e.url.length<=4096)return e;let t=new URL(e.url),n=r.query,o=new Headers(e.headers);return o.set("X-HTTP-Method-Override","GET"),o.set("Content-Type","application/json"),new Request(t.origin+t.pathname,{method:"POST",headers:o,body:JSON.stringify(n)})}});var x=require("openapi-fetch"),C=()=>e=>{if(e&&typeof e=="object"){let r=e;for(let t in r)if(r[t]instanceof FormData)return r[t]}return(0,x.defaultBodySerializer)(e)};var k=e=>F(e),F=e=>{let r=P(e);r.bodySerializer=C();let t=(0,w.default)(r);return b(e.auth)&&t.use(M()),t.use(T()),t};var I=e=>{async function*r(t,n,o,i,p){let a=p,d=null;for(;;){if(!i(a,d))return;a=o(a,d),d=await e.request(t,n,a),yield d}}return{request:(t,n,o,i,p)=>r(t,n,o,i,p),GET:(t,n,o,i)=>r("get",t,n,o,i),PUT:(t,n,o,i)=>r("put",t,n,o,i),POST:(t,n,o,i)=>r("post",t,n,o,i),DELETE:(t,n,o,i)=>r("delete",t,n,o,i),OPTIONS:(t,n,o,i)=>r("options",t,n,o,i),HEAD:(t,n,o,i)=>r("head",t,n,o,i),PATCH:(t,n,o,i)=>r("patch",t,n,o,i),TRACE:(t,n,o,i)=>r("trace",t,n,o,i)}};m(y);0&&(module.exports={createClient,iterator});
//# sourceMappingURL=index.browser.cjs.map